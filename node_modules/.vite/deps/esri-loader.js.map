{
  "version": 3,
  "sources": ["../../esri-loader/dist/esm/utils/index.js", "../../esri-loader/dist/esm/utils/url.js", "../../esri-loader/dist/esm/utils/css.js", "../../esri-loader/dist/esm/script.js", "../../esri-loader/dist/esm/modules.js"],
  "sourcesContent": ["/* Copyright (c) 2022 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nvar isBrowser = typeof window !== 'undefined';\n// allow consuming libraries to provide their own Promise implementations\nexport default {\n    Promise: isBrowser ? window['Promise'] : undefined\n};\n", "/* Copyright (c) 2022 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nvar DEFAULT_VERSION = '4.25';\nvar NEXT = 'next';\nexport function parseVersion(version) {\n    if (version.toLowerCase() === NEXT) {\n        return NEXT;\n    }\n    var match = version && version.match(/^(\\d)\\.(\\d+)/);\n    return match && {\n        major: parseInt(match[1], 10),\n        minor: parseInt(match[2], 10)\n    };\n}\n/**\n * Get the CDN url for a given version\n *\n * @param version Ex: '4.25' or '3.42'. Defaults to the latest 4.x version.\n */\nexport function getCdnUrl(version) {\n    if (version === void 0) { version = DEFAULT_VERSION; }\n    return \"https://js.arcgis.com/\".concat(version, \"/\");\n}\n/**\n * Get the CDN url for a the CSS for a given version and/or theme\n *\n * @param version Ex: '4.25', '3.42', or 'next'. Defaults to the latest 4.x version.\n */\nexport function getCdnCssUrl(version) {\n    if (version === void 0) { version = DEFAULT_VERSION; }\n    var baseUrl = getCdnUrl(version);\n    var parsedVersion = parseVersion(version);\n    if (parsedVersion !== NEXT && parsedVersion.major === 3) {\n        // NOTE: at 3.11 the CSS moved from the /js folder to the root\n        var path = parsedVersion.minor <= 10 ? 'js/' : '';\n        return \"\".concat(baseUrl).concat(path, \"esri/css/esri.css\");\n    }\n    else {\n        // assume 4.x\n        return \"\".concat(baseUrl, \"esri/themes/light/main.css\");\n    }\n}\n", "/* Copyright (c) 2022 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { getCdnCssUrl, parseVersion } from './url';\nfunction createStylesheetLink(href) {\n    var link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = href;\n    return link;\n}\nfunction insertLink(link, before) {\n    if (before) {\n        // the link should be inserted before a specific node\n        var beforeNode = document.querySelector(before);\n        beforeNode.parentNode.insertBefore(link, beforeNode);\n    }\n    else {\n        // append the link to then end of the head tag\n        document.head.appendChild(link);\n    }\n}\n// check if the css url has been injected or added manually\nfunction getCss(url) {\n    return document.querySelector(\"link[href*=\\\"\".concat(url, \"\\\"]\"));\n}\nfunction getCssUrl(urlOrVersion) {\n    return !urlOrVersion || parseVersion(urlOrVersion)\n        // if it's a valid version string return the CDN URL\n        ? getCdnCssUrl(urlOrVersion)\n        // otherwise assume it's a URL and return that\n        : urlOrVersion;\n}\n// lazy load the CSS needed for the ArcGIS API\nexport function loadCss(urlOrVersion, before) {\n    var url = getCssUrl(urlOrVersion);\n    var link = getCss(url);\n    if (!link) {\n        // create & load the css link\n        link = createStylesheetLink(url);\n        insertLink(link, before);\n    }\n    return link;\n}\n", "/* Copyright (c) 2022 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { loadCss } from './utils/css';\nimport utils from './utils/index';\nimport { getCdnUrl } from './utils/url';\nvar defaultOptions = {};\nfunction createScript(url) {\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n    script.setAttribute('data-esri-loader', 'loading');\n    return script;\n}\n// add a one-time load handler to script\n// and optionally add a one time error handler as well\nfunction handleScriptLoad(script, callback, errback) {\n    var onScriptError;\n    if (errback) {\n        // set up an error handler as well\n        onScriptError = handleScriptError(script, errback);\n    }\n    var onScriptLoad = function () {\n        // pass the script to the callback\n        callback(script);\n        // remove this event listener\n        script.removeEventListener('load', onScriptLoad, false);\n        if (onScriptError) {\n            // remove the error listener as well\n            script.removeEventListener('error', onScriptError, false);\n        }\n    };\n    script.addEventListener('load', onScriptLoad, false);\n}\n// add a one-time error handler to the script\nfunction handleScriptError(script, callback) {\n    var onScriptError = function (e) {\n        // reject the promise and remove this event listener\n        callback(e.error || new Error(\"There was an error attempting to load \".concat(script.src)));\n        // remove this event listener\n        script.removeEventListener('error', onScriptError, false);\n    };\n    script.addEventListener('error', onScriptError, false);\n    return onScriptError;\n}\n// allow the user to configure default script options rather than passing options to `loadModules` each time\nexport function setDefaultOptions(options) {\n    if (options === void 0) { options = {}; }\n    defaultOptions = options;\n}\n// get the script injected by this library\nexport function getScript() {\n    return document.querySelector('script[data-esri-loader]');\n}\n// has ArcGIS API been loaded on the page yet?\nexport function isLoaded() {\n    var globalRequire = window['require'];\n    // .on() ensures that it's Dojo's AMD loader\n    return globalRequire && globalRequire.on;\n}\n// load the ArcGIS API on the page\nexport function loadScript(options) {\n    if (options === void 0) { options = {}; }\n    // we would have liked to use spread like { ...defaultOptions, ...options }\n    // but TS would inject a polyfill that would require use to configure rollup w content: 'window'\n    // if we have another occasion to use spread, let's do that and replace this for...in\n    var opts = {};\n    [defaultOptions, options].forEach(function (obj) {\n        for (var prop in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                opts[prop] = obj[prop];\n            }\n        }\n    });\n    // URL to load\n    var version = opts.version;\n    var url = opts.url || getCdnUrl(version);\n    return new utils.Promise(function (resolve, reject) {\n        var script = getScript();\n        if (script) {\n            // the API is already loaded or in the process of loading...\n            // NOTE: have to test against scr attribute value, not script.src\n            // b/c the latter will return the full url for relative paths\n            var src = script.getAttribute('src');\n            if (src !== url) {\n                // potentially trying to load a different version of the API\n                reject(new Error(\"The ArcGIS API for JavaScript is already loaded (\".concat(src, \").\")));\n            }\n            else {\n                if (isLoaded()) {\n                    // the script has already successfully loaded\n                    resolve(script);\n                }\n                else {\n                    // wait for the script to load and then resolve\n                    handleScriptLoad(script, resolve, reject);\n                }\n            }\n        }\n        else {\n            if (isLoaded()) {\n                // the API has been loaded by some other means\n                // potentially trying to load a different version of the API\n                reject(new Error(\"The ArcGIS API for JavaScript is already loaded.\"));\n            }\n            else {\n                // this is the first time attempting to load the API\n                var css = opts.css;\n                if (css) {\n                    var useVersion = css === true;\n                    // load the css before loading the script\n                    loadCss(useVersion ? version : css, opts.insertCssBefore);\n                }\n                // create a script object whose source points to the API\n                script = createScript(url);\n                // _currentUrl = url;\n                // once the script is loaded...\n                handleScriptLoad(script, function () {\n                    // update the status of the script\n                    script.setAttribute('data-esri-loader', 'loaded');\n                    // return the script\n                    resolve(script);\n                }, reject);\n                // load the script\n                document.body.appendChild(script);\n            }\n        }\n    });\n}\n", "/* Copyright (c) 2022 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nimport { getScript, isLoaded, loadScript } from './script';\nimport utils from './utils/index';\n// wrap Dojo's require() in a promise\nfunction requireModules(modules) {\n    return new utils.Promise(function (resolve, reject) {\n        // If something goes wrong loading the esri/dojo scripts, reject with the error.\n        var errorHandler = window['require'].on('error', reject);\n        window['require'](modules, function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            // remove error handler\n            errorHandler.remove();\n            // Resolve with the parameters from dojo require as an array.\n            resolve(args);\n        });\n    });\n}\n// returns a promise that resolves with an array of the required modules\n// also will attempt to lazy load the ArcGIS API if it has not already been loaded\nexport function loadModules(modules, loadScriptOptions) {\n    if (loadScriptOptions === void 0) { loadScriptOptions = {}; }\n    if (!isLoaded()) {\n        // script is not yet loaded, is it in the process of loading?\n        var script = getScript();\n        var src = script && script.getAttribute('src');\n        if (!loadScriptOptions.url && src) {\n            // script is still loading and user did not specify a URL\n            // in this case we want to default to the URL that's being loaded\n            // instead of defaulting to the latest 4.x URL\n            loadScriptOptions.url = src;\n        }\n        // attempt to load the script then load the modules\n        return loadScript(loadScriptOptions).then(function () { return requireModules(modules); });\n    }\n    else {\n        // script is already loaded, just load the modules\n        return requireModules(modules);\n    }\n}\n"],
  "mappings": "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",
  "names": []
}
